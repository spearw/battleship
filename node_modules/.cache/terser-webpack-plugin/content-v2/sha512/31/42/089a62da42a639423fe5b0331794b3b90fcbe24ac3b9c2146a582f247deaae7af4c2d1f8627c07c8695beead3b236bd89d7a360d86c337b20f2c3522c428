{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){const n=r(1),o=r(2),a=r(3),i=r(4);function l(e=!1,t=!0,r=10){console.log(\"creating players...\");let l=a(e),c=a(t);console.log(\"generating boards...\");let d=n(r),u=n(r);console.log(\"creating ships\");let p=o.createShip(o.carrier),h=o.createShip(o.battleship),f=o.createShip(o.cruiser),m=o.createShip(o.destroyer),g=o.createShip(o.patrolBoat);console.log(\"placing ships...\"),s(d,p,h,f,m,g),s(u,o.createShip(o.carrier),o.createShip(o.battleship),o.createShip(o.cruiser),o.createShip(o.destroyer),o.createShip(o.patrolBoat)),console.log(\"showing boards...\");let b=document.getElementById(\"board1\"),y=document.getElementById(\"board2\");i.updateBoard(d,b,l,c,u,y),i.updateBoard(u,y,c,l,d,b)}function s(e,t,r,n,o,a){!function(e,t){let r=e.size;for(;;){let n=Math.floor(Math.random()*(+r-0))+0,o=Math.floor(Math.random()*(+r-0))+0,a=Math.random()>=.5;if(console.log(\"x\",n),console.log(\"y\",o),console.log(\"random_boolean\",a),e.placeShip(n,o,t,a))break}}(e,t)}document.getElementById(\"newgame\").addEventListener(\"click\",()=>{l()}),l()},function(e,t){throw new Error('Module parse failed: Unexpected token (37:16)\\nYou may need an appropriate loader to handle this file type.\\n|                // }\\n|                 //off the board\\n>                 else if(y+i >= matrix.length || x >= matrix[y].length ){\\n|                     //throw \"off the board\"\\n|                     return false')},function(e,t){carrier={name:\"Carrier\",length:5},battleship={name:\"Battleship\",length:4},cruiser={name:\"Cruiser\",length:3},destroyer={name:\"Destroyer\",length:3},patrolBoat={name:\"Patrol Boat\",length:2},submarine={name:\"Submarine\",length:1},e.exports.createShip=({name:e,length:t,horizontal:r})=>({name:e,length:t,horizontal:r,hits:Array(t).fill(0),hit(){return foundIndex=this.hits.findIndex(e=>0==e),this.hits[foundIndex]=1,this},isSunk(){return this.hits.every(e=>1==e)}}),e.exports.carrier=carrier,e.exports.battleship=battleship,e.exports.cruiser=cruiser,e.exports.destroyer=destroyer,e.exports.patrolBoat=patrolBoat,e.exports.submarine=submarine},function(e,t){e.exports=(e=!1)=>({ai:e,needToSelectSquare:!0,attacks:[],attackBoard(e,t,r){return!(e>=r.size||t>=r.size||this.attacks.includes(`[${e},${t}]`)||(r.recieveAttack(e,t),this.attacks.push(`[${e},${t}]`),0))},randomAttack(e){let t=e.size;for(;;){let r=Math.floor(Math.random()*(+t-0))+0,n=Math.floor(Math.random()*(+t-0))+0;if(this.attackBoard(r,n,e))break}}})},function(e,t){const r=(e,t,n,o,a,l)=>{let s=t;for(;s.firstChild;)s.removeChild(s.firstChild);for(i=0;i<e.size;i++){let c=document.createElement(\"tr\");for(j=0;j<e.size;j++){let s=document.createElement(\"td\");s.className=\"square\",n.ai?s.id=`C${j}${i}`:s.id=`P${j}${i}`,!0===e.matrix[i][j]?s.innerHTML=\"_\":null===e.matrix[i][j]?s.innerHTML=\"&nbsp\":e.matrix[i][j].isSunk()?(s.innerHTML=\"X\",s.classList.add(\"destroyed\")):o.attacks.includes(`[${j},${i}]`)?s.innerHTML=\"x\":\"potato\"==n.ai?s.innerHTML=\"&nbsp\":e.matrix[i][j].horizontal?s.innerHTML=\"&#8594\":s.innerHTML=\"&#8593\",n.ai&&s.addEventListener(\"click\",()=>{let i=s.id[1],c=s.id[2];o.attackBoard(i,c,e),r(e,t,n,o,a,l),n.randomAttack(a),r(a,l,o,n,e,t)}),c.appendChild(s)}s.appendChild(c)}};e.exports.updateBoard=r}]);","extractedComments":[]}